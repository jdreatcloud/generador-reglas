<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Generador Regla JSON</title>
</head>
<body>

<h2>Generador de condiciones</h2>

Campo: <input id="campo"><br><br>
Operador: <input id="operador"><br><br>
Valor: <input id="valor"><br><br>

<button onclick="agregar()">Agregar condici√≥n</button>
<button onclick="generar()">Generar JSON</button>

<h3>Condiciones agregadas</h3>
<pre id="lista"></pre>

<h3>JSON final</h3>
<pre id="json"></pre>

<script>
let condiciones = [];

function agregar() {
    const campo = document.getElementById("campo").value.trim();
    const operador = document.getElementById("operador").value.trim();
    const valorInput = document.getElementById("valor").value.trim();

    if (!campo || !operador || !valorInput) {
        alert("Todos los campos son obligatorios");
        return;
    }

    const valor = isNaN(valorInput) ? valorInput : Number(valorInput);

    condiciones.push({
        campo: campo,
        operador: operador,
        valor: valor
    });

    document.getElementById("lista").textContent =
        JSON.stringify(condiciones, null, 2);

    document.getElementById("campo").value = "";
    document.getElementById("operador").value = "";
    document.getElementById("valor").value = "";
}

function generar() {
    const json = { condiciones: condiciones };

    document.getElementById("json").textContent =
        JSON.stringify(json, null, 2);
}
</script>

</body>
</html>
